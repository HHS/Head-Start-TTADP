

docker_compose(["./docker-compose.yml", "./docker-compose.override.yml"])

local_resource(
    'set-node-version',
    cmd='nvm install 18.18.2 && nvm use 18.18.2',
    deps=[],
    allow_parallel=True
)

local_resource('db:migrate', cmd='docker compose run --rm backend node_modules/.bin/sequelize db:migrate', deps=['package.json', 'db'])
local_resource('db:seed', cmd='docker compose run --rm backend node_modules/.bin/sequelize db:migrate', deps=['package.json','db'])
